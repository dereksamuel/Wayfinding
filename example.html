<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
  <style>
    html,body {
      touch-action: none;
      background-color: rgb(0, 140, 255);
    }
    .container {
      height: 349px;
      max-width: 450px;
      position: relative;
      overflow: hidden;
      border: 4px solid green;
      margin-bottom: 50px;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .Scale {
      transform-origin: center;
      transition: 0.5s transform;
    }
  </style>
</head>
<body>
  <div class="container" id="container">
    <div class="Scale">
      <svg width="1085" height="845" viewBox="0 0 1085 845" fill="none" xmlns="http://www.w3.org/2000/svg">
        <rect width="1085" height="845" fill="#F5F5F5"/>
        <g id="Base">
            <path d="M717 165L741.5 130M741.5 130L762 112L741.5 98V89L722.75 117.25M741.5 130L722.75 117.25M704 104.5L722.75 117.25" stroke="black"/>
            <path d="M674 4L744.98 46.0874L778.236 71.8349M778.236 71.8349L830.851 104.515L820.427 114.913L778.236 83.2233V71.8349ZM704.278 4L914.736 139.175L947 157" stroke="black"/>
            <path d="M596 1.5L370 307.5H358.5L213 503V512M581 512V616H496L399.5 742L358.5 716H272.5V599H281.5V590H252V536H213V512M581 512H437V522M581 512V492.5H548.5H530.5M437 522H425.5V503H530.5V492.5M437 522V653L393 693V512H213M530.5 492.5V436L542 400" stroke="black"/>
            <path d="M35 710L117 602L122 608L184 524L174 518L563 2M563 2H596H642H1080V843H1V2H563Z" stroke="black"/>
            <rect x="540" y="163" width="42" height="134" fill="#D9D9D9"/>
            <path d="M2.5 819L37 839.5L69.5 788L37 758.5H24.5V738L37 712.5L69.5 662L115.5 603H122M534.5 167.5H582V298.5H534.5V167.5Z" stroke="black"/>
            <path d="M472 648H653.455V382H749.403V352.5H726.038V303.5H736.478V246V229H726.038V215H736.478V202H912.962H999.464V215M999.464 215H921.91V288H954.721V275.5H1080V215H999.464Z" stroke="black"/>
            <path d="M850.5 170H605V273H627V302.5H605V346H673.5L667 273H685V258.5M850.5 170H916V176.5H850.5V170ZM685 258.5H654M685 258.5V204.5H999.5V213.5L921.5 217.5V289.5H956V273H1079.5" stroke="black"/>
            <path d="M643.5 67L611.5 48L629.5 23.5L715.5 78.5L703 103L656.5 78.5" stroke="black"/>
            <path d="M512.5 323H475.5V371.5H512.5V323Z" stroke="black"/>
            <path d="M419 437.5V312.5H533V324H575.5V386H637.5V437.5H419Z" stroke="black"/>
            <path d="M533 324V399H542.5" stroke="black"/>
            <!-- <path d="M652.958 127.343C650.273 132.848 644.367 136.213 636.872 137.125C629.382 138.037 620.374 136.484 611.637 132.223C602.9 127.961 596.13 121.818 592.237 115.355C588.341 108.887 587.357 102.162 590.042 96.657C592.727 91.1516 598.633 87.7869 606.128 86.8747C613.618 85.9633 622.626 87.5158 631.363 91.7771C640.1 96.0385 646.87 102.182 650.763 108.645C654.659 115.113 655.643 121.838 652.958 127.343Z" fill="#D9D9D9"/>
            <path d="M652.958 127.343C650.273 132.848 644.367 136.213 636.872 137.125C629.382 138.037 620.374 136.484 611.637 132.223C602.9 127.961 596.13 121.818 592.237 115.355C588.341 108.887 587.357 102.162 590.042 96.657C592.727 91.1516 598.633 87.7869 606.128 86.8747C613.618 85.9633 622.626 87.5158 631.363 91.7771C640.1 96.0385 646.87 102.182 650.763 108.645C654.659 115.113 655.643 121.838 652.958 127.343Z" stroke="black"/> -->
            <path d="M278.5 518V484.5L315.5 439H375.5V352.5L407 313.5" stroke="black"/>
            <path d="M707 844.5L1072.5 467V544.5L779.5 844.5H839.5L1072.5 587M680.5 844.5V797H659.5V844.5H680.5Z" stroke="black"/>
            <path d="M420 313.5H406.5" stroke="black"/>
            <path d="M1084 138.5L886 6H918.5L1084 115.5V138.5Z" stroke="black"/>
            <path d="M921.5 103.5L752 1" stroke="black"/>
            <path d="M991.5 150L1079 191" stroke="black"/>
            
        </g>
        <g id="Rooms">
          <a id="ovalo" xlink:href="#" >
            <g>
              <path fill="#E6E6E6" d="M652.958 127.343C650.273 132.848 644.367 136.213 636.872 137.125C629.382 138.037 620.374 136.484 611.637 132.223C602.9 127.961 596.13 121.818 592.237 115.355C588.341 108.887 587.357 102.162 590.042 96.657C592.727 91.1516 598.633 87.7869 606.128 86.8747C613.618 85.9633 622.626 87.5158 631.363 91.7771C640.1 96.0385 646.87 102.182 650.763 108.645C654.659 115.113 655.643 121.838 652.958 127.343Z"/>
              <path d="M652.958 127.343C650.273 132.848 644.367 136.213 636.872 137.125C629.382 138.037 620.374 136.484 611.637 132.223C602.9 127.961 596.13 121.818 592.237 115.355C588.341 108.887 587.357 102.162 590.042 96.657C592.727 91.1516 598.633 87.7869 606.128 86.8747C613.618 85.9633 622.626 87.5158 631.363 91.7771C640.1 96.0385 646.87 102.182 650.763 108.645C654.659 115.113 655.643 121.838 652.958 127.343Z" stroke="black"/>
            </g>
          </a>
          <a id="lobby_1_" xlink:href="#" >
            <g>
              <path d="M580.5 648.5H472L496 616.5H580.5" stroke="#6217C1"/>
            </g>
                
          </a>
        </g>
        <g id="Portals">
          <!-- <line id="Elev.1.floor1" fill="none" stroke="#FF00FF" x1="297" y1="237" x2="315" y2="255"/>
          <line id="Stair.1.floor1" fill="none" stroke="#FF00FF" x1="315" y1="273" x2="306" y2="273"/> -->
        </g>
        <g id="Doors">
          <!-- <line id="R201_1_" fill="none" stroke="#00FF00" x1="297" y1="408" x2="306" y2="417"/>
          <line id="R202_1_" fill="none" stroke="#00FF00" x1="504" y1="111" x2="513" y2="102"/>
          <line id="R203_1_" fill="none" stroke="#00FF00" x1="117" y1="345" x2="126" y2="354"/> -->
            <line id="ovalo_1_" fill="none" stroke="#00FF00" x1="610" y1="130" x2="610" y2="160"/>
            <line id="lobby" fill="none" stroke="#00FF00" x1="610" y1="610" x2="580" y2="630"/>
        </g>
        <g id="Paths">
            <line fill="none" stroke="#00FFFF" x1="645" y1="630" x2="580" y2="630"/>
            <line fill="none" stroke="#00FFFF" x1="645" y1="630" x2="645" y2="365"/>
            <line fill="none" stroke="#00FFFF" x1="645" y1="365" x2="595" y2="365"/>
            <line fill="none" stroke="#00FFFF" x1="595" y1="150" x2="595" y2="365"/>
            <line fill="none" stroke="#00FFFF" x1="595" y1="150" x2="610" y2="130"/>
        </g>
        </svg>
        
        
    </div>
  </div>
  <button id="zoom_in">Zoom In</button>
  <button id="zoom_out">Zoom Out</button>
  <button id="reset">Reset</button>
  <script>
    let scale = 1;

    window.onload = () => {
      const $container = document.querySelector('#container');

      document.querySelector('button#zoom_in').addEventListener('click', () => {
        scale += 0.15;
        $container.querySelector('.Scale').style.transform = `scale(${scale})`;
      });

      document.querySelector('button#zoom_out').addEventListener('click', () => {
        if (scale > 1) {
          scale -= 0.25;
          $container.querySelector('.Scale').style.transform = `scale(${scale})`;
        }
      });

      let navInfo = window.navigator.appVersion.toLowerCase();
      let so = 'Sistema Operativo';
      let hypo = undefined;

      if (navInfo.indexOf('mac') != -1) {
        $container.addEventListener('gesturechange', handlerGesture, false)
      } else {
        $container.addEventListener('touchmove', handlerTouchMove)
        $container.addEventListener('touchend', function(event) {
          hypo = undefined;
        }, false);
      }

      function handlerTouchMove(e) {
        if (event.targetTouches.length === 2) {
          let hypo1 = Math.hypot((event.targetTouches[0].pageX - event.targetTouches[1].pageX),
            (event.targetTouches[0].pageY - event.targetTouches[1].pageY));
          if (hypo === undefined) {
            hypo = hypo1;
          }

          if (hypo1/hypo < 1) {
          // User moved fingers closer together
            if (scale > 1) {
              scale -= 0.25;
              $container.querySelector('.Scale').style.transform = `scale(${scale})`;
            }
          } else if (hypo1/hypo > 1) {
            // User moved fingers further apart
            scale += 0.15;
            $container.querySelector('.Scale').style.transform = `scale(${scale})`;
          }
        }
      }

      function handlerGesture(e) {
        if (e.scale < 1.0) {
          // User moved fingers closer together
          if (scale > 1) {
            scale -= e.scale;
            $container.querySelector('.Scale').style.transform = `scale(${scale})`;
          }
        } else if (e.scale > 1.0) {
          // User moved fingers further apart
          scale += e.scale;
          $container.querySelector('.Scale').style.transform = `scale(${scale})`;
        }
      }

      document.querySelector('button#reset').addEventListener('click', () => {
        scale = 1;
        $container.querySelector('.Scale').style.transform = `scale(${scale})`;
      });
    };
  </script>
</body>
</html>